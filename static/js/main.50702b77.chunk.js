(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,a){e.exports=a(213)},135:function(e,t,a){},144:function(e,t,a){},213:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(29),o=a.n(s),c=(a(135),a(7)),i=a(121),u=a(17),l=a.n(u),m=a(24),d=a(9),h=a(10),p=a(12),b=a(11),v=a(13),f=a(15),O=a(218),j=a(57),E=a(119),g=a(120),w=a(25),y=a.n(w),x=(a(144),a(99)),N=a(20),U={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://api.adorable.io/avatars/128/sarahedo.png",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionOne",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://api.adorable.io/avatars/128/tylermcginnis.png",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://api.adorable.io/avatars/128/johndoe.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionOne"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},k={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillian"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function q(e){var t=e.optionOneText,a=e.optionTwoText,n=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:n,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:a}}}function C(e){return new Promise(function(t,a){var n=e.author,r=q(e);setTimeout(function(){k=Object(c.a)({},k,Object(N.a)({},r.id,r)),U=Object(c.a)({},U,Object(N.a)({},n,Object(c.a)({},U[n],{questions:U[n].questions.concat([r.id])}))),t(r)},1e3)})}function S(e){var t=e.authedUser,a=e.qid,n=e.answer;return new Promise(function(e,r){setTimeout(function(){U=Object(c.a)({},U,Object(N.a)({},t,Object(c.a)({},U[t],{answers:Object(c.a)({},U[t].answers,Object(N.a)({},a,n))}))),k=Object(c.a)({},k,Object(N.a)({},a,Object(c.a)({},k[a],Object(N.a)({},n,Object(c.a)({},k[a][n],{votes:k[a][n].votes.concat([t])}))))),e()},500)})}var T="SET_AUTHED_USER",A=function(e){return{type:T,id:e}},D=function(e){return function(t){t(A(e))}},I="RECEIVE_USERS",L="UPDATE_USER_QUESTIONS",F="UPDATE_USER_ANSWERS",R=function(e){return{type:I,users:e}},z=function(e){return function(t){t(function(e){return{type:L,question:e}}(e))}},B=function(e,t,a){return function(n){n(function(e,t,a){return{type:F,uid:e,qid:t.id,answer:a}}(e,t,a))}},Q="RECEIVE_QUESTIONS",P="SAVE_QUESTION",_="SAVE_QUESTION_ANSWER",H=function(e){return{type:Q,questions:e}},W=function(e){return{type:P,question:e}},M=function(e,t,a){return{type:_,uid:e,qid:t.id,answer:a}},V=function(e,t,a){return function(){var n=Object(m.a)(l.a.mark(function n(r){return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(w.showLoading)()),n.prev=1,n.next=4,S({authedUser:e,qid:t.id,answer:a});case 4:return n.next=6,r(M(e,t,a));case 6:return n.next=8,r(B(e,t,a));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0);case 13:r(Object(w.hideLoading)());case 14:case"end":return n.stop()}},n,this,[[1,10]])}));return function(e){return n.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(m.a)(l.a.mark(function t(a){var n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(w.showLoading)()),t.prev=1,t.next=4,C(e);case 4:return n=t.sent,t.next=7,a(W(n));case 7:return t.next=9,a(z(n));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:a(Object(w.hideLoading)());case 15:case"end":return t.stop()}},t,this,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()},J=function(){var e=function(){var e=Object(m.a)(l.a.mark(function e(){var t,a,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([new Promise(function(e,t){setTimeout(function(){return e(Object(c.a)({},U))},1e3)}),new Promise(function(e,t){setTimeout(function(){return e(Object(c.a)({},k))},1e3)})]);case 2:return t=e.sent,a=Object(x.a)(t,2),n=a[0],r=a[1],e.abrupt("return",[n,r]);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return function(){var t=Object(m.a)(l.a.mark(function t(a){var n,r,s,o,c;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="",a(Object(w.showLoading)()),t.next=4,e();case 4:r=t.sent,s=Object(x.a)(r,2),o=s[0],c=s[1],a(R(o)),a(H(c)),a(A(n)),a(Object(w.hideLoading)());case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},Y=a(79),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(arguments.length>1?arguments[1]:void 0)[e];return t||void 0},K=function(e,t){var a=e?e.id:null;return a&&t&&a===t?"You":e?e.name:""},X=function(e){return Object.keys(e).map(function(t){return e[t]})},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.votes.includes(t)},ee=function(e){return t=e,!(0===Object.keys(t).length&&t.constructor===Object||""===e);var t},te=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.className,n=void 0===a?"":a;return r.a.createElement("img",{src:function(e){return e?e.avatarURL:""}(t),alt:K(t),className:"avatar ".concat(n)})}}]),t}(n.Component),ae=a(74),ne=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(e){e.preventDefault();var t=a.props,n=t.dispatch,r=t.history;n(D("")),r.push("/")},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authedUser,a=e.authedUserID;return this.props&&void 0!==this.props.authedUser?r.a.createElement(n.Fragment,null,a&&r.a.createElement("div",{className:"welcome d-flex justify-content-end align-items-center"},r.a.createElement("span",null,"Welcome,",r.a.createElement(te,{className:"welcome-avatar md",user:t}),K(t)),r.a.createElement("span",null,r.a.createElement(ae.a,{size:"sm",onClick:this.handleLogout},"Logout")))):null}}]),t}(n.Component),re=Object(g.a)(Object(f.connect)(function(e){var t=e.authedUser,a=e.users;return{authedUser:$(t,a),authedUserID:""!==t?t:void 0}})(ne)),se=a(215),oe=a(214),ce=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSelectUserChange=function(e){var t=a.props,n=t.dispatch,r=t.history;n(D(e)),r.push("/")},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.users,a=e.user,n=a?a.name:"Select a user";return r.a.createElement("div",null,r.a.createElement("span",{className:"welcome d-inline-flex flex-nowrap justify-content-end align-items-center"},"Login to play as\xa0"),r.a.createElement(se.a,{className:"d-inline-flex",size:"sm",id:"dropdown-users",variant:"success",alignRight:!0,title:n,onSelect:this.handleSelectUserChange},t&&X(t).sort(function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0}).map(function(e){return r.a.createElement(oe.a.Item,{active:!1,key:e.id,eventKey:e.id},r.a.createElement(te,{className:"dropdown-user-avatar sm",user:e})," ",e.name)})))}}]),t}(n.Component);var ie=Object(g.a)(Object(f.connect)(function(e){var t=e.authedUser,a=e.users;return{authedUserID:t,user:$(t,a),users:a}})(ce)),ue=a(223),le=a(225),me=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.authedUser;return r.a.createElement(ue.a,{variant:"dark",bg:"dark",collapseOnSelect:!0,expand:"sm",className:"mb-0"},r.a.createElement(ue.a.Toggle,null),r.a.createElement(ue.a.Collapse,null,r.a.createElement(le.a,null,r.a.createElement(Y.LinkContainer,{exact:!0,to:"/"},r.a.createElement(le.a.Link,{active:!1,className:"py-0"},"Home")),r.a.createElement(Y.LinkContainer,{to:"/add"},r.a.createElement(le.a.Link,{active:!1,className:"py-0 text-nowrap"},"New Question")),r.a.createElement(Y.LinkContainer,{to:"/leaderboard"},r.a.createElement(le.a.Link,{active:!1,className:"py-0"},"Leaderboard")))),r.a.createElement(le.a,null,e?r.a.createElement(re,null):r.a.createElement(ie,null)))}}]),t}(n.Component),de=Object(g.a)(Object(f.connect)(function(e){var t=e.authedUser,a=e.users;return{authedUser:$(t,a),authedUserID:""!==t?t:void 0}})(me)),he=a(31),pe=a(67),be=a(216),ve=a(222),fe=a(207),Oe=a(56),je=a(217),Ee=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.option,a=e.users,n=X(a).length,s=t.votes.length,o=Math.floor(100*s/n);return r.a.createElement("ul",{className:"pl-0"},r.a.createElement("li",{className:"asked"},r.a.createElement("span",{className:"callout"},s)," ",s>1||0===s?"people ":"person "," ","chose this option."),r.a.createElement("li",{className:"answered"},r.a.createElement("span",{className:"callout"},o,"%")," voted for this option."))}}]),t}(n.Component),ge=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.answer,s=e.users,o=e.showForm,c=e.option,i=e.hasAuthedUserAnswered,u=e.handleRadioBtnClick,l=e.getOptionCheckbox;return r.a.createElement(n.Fragment,null,r.a.createElement(be.a,null,r.a.createElement(fe.a,null,r.a.createElement("h5",{className:"mb-0"},r.a.createElement(ve.a.Group,{className:"mb-0 flex-nowrap",controlId:"form-".concat(a,"-").concat(t.id)},o?r.a.createElement(ve.a.Check,{type:"radio",name:"questionOption",inline:!0,className:"mr-1","data-answer":a,onClick:u}):i&&l(c),r.a.createElement(ve.a.Label,null,c.text))))),s&&r.a.createElement(be.a,{className:"my-0"},r.a.createElement(fe.a,null,r.a.createElement(Ee,{option:c,users:s}))))}}]),t}(n.Component),we=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(s)))).state={hasAuthedUserAnswered:!1,showForm:!1,answer:null},a.getOptionCheckbox=function(e){var t=a.props.authedUserID;return Z(e,t)?r.a.createElement(pe.a,{className:"option-checkbox checked"}):r.a.createElement(pe.b,{className:"option-checkbox text-muted"})},a.handleRadioBtnClick=function(e){e.stopPropagation(),a.setState(Object(c.a)({},a.state,{answer:e.target.getAttribute("data-answer")}))},a.handleSubmit=function(){var e=Object(m.a)(l.a.mark(function e(t){var n,r,s,o,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),n=a.props,r=n.authedUserID,s=n.question,o=n.dispatch,c=a.state.answer,e.next=6,o(V(r,s,c));case 6:a.setState({hasAuthedUserAnswered:!0,showForm:!1,answer:null});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){var e=a.props,t=e.authedUserID,n=e.question,r=a.getHasAuthedUserAnswered(n);a.setState(Object(c.a)({},a.state,{showForm:t&&!r&&a.props.withForm,hasAuthedUserAnswered:r}))},a.getHasAuthedUserAnswered=function(e){var t=e.optionOne,n=e.optionTwo,r=a.props.authedUserID;return Z(t,r)||Z(n,r)},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authedUserID,a=e.question,s=e.users,o=e.withAvatar,c=void 0!==o&&o,i=e.withDetailsButton,u=void 0!==i&&i,l=this.state,m=l.answer,d=l.showForm,h=this.getHasAuthedUserAnswered(a),p=$(a.author,s);return r.a.createElement(je.a.Item,null,r.a.createElement(O.a,{className:"question",key:a.id},c&&r.a.createElement(n.Fragment,null,r.a.createElement(be.a,{className:"dflex align-items-center text-left mb-1"},r.a.createElement(te,{className:"mr-1 sm",user:p})," ",K(p,t)," asked"),r.a.createElement(be.a,{className:"dflex text-left mb-3 text-secondary"},r.a.createElement("h5",{className:"text-secondary"},"Would you rather?"))),r.a.createElement(ve.a,null,r.a.createElement(be.a,null,r.a.createElement(fe.a,{md:5},r.a.createElement(ge,{question:a,users:s,showForm:d,option:a.optionOne,answer:"optionOne",hasAuthedUserAnswered:h,handleRadioBtnClick:this.handleRadioBtnClick,getOptionCheckbox:this.getOptionCheckbox})),r.a.createElement(fe.a,{md:1,className:"d-flex justify-content-center"},r.a.createElement("h5",{className:"text-secondary"},"or")),r.a.createElement(fe.a,{md:6},r.a.createElement(ge,{question:a,users:s,showForm:d,option:a.optionTwo,answer:"optionTwo",hasAuthedUserAnswered:h,handleRadioBtnClick:this.handleRadioBtnClick,getOptionCheckbox:this.getOptionCheckbox})))),d&&r.a.createElement("div",{className:"text-center"},r.a.createElement(ae.a,{onClick:this.handleSubmit,variant:"success",className:"btn-sm btn-block",disabled:!m},"Save Answer")),!d&&ee(t)&&u&&r.a.createElement("div",{className:"text-center"},r.a.createElement(ae.a,{variant:h?"primary":"success",className:"btn-sm btn-block",as:Oe.a,to:"/question-detail/".concat(a.id)},h?"View Details":"Answer Question"))))}}]),t}(n.Component);var ye=Object(g.a)(Object(f.connect)(function(e){var t=e.authedUser,a=e.users;return{authedUserID:t,authedUser:$(t,a),users:a}})(we)),xe=a(226),Ne=a(224),Ue=a(209),ke=a(219),qe=a(220),Ce=a(208),Se=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).state={isShowingAnswered:!1},a.getFilteredQuestions=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.props,n=t.authedUserID,r=t.questions;if(!ee(n))return a.sortQuestions(X(r));var s=X(r).filter(function(t){return e===(Z(t.optionOne,n)||Z(t.optionTwo,n))});return a.sortQuestions(s)},a.sortQuestions=function(e){return e.sort(function(e,t){return t.timestamp-e.timestamp})},a.handleFilterChange=function(e){a.setState(Object(c.a)({},a.state,{isShowingAnswered:!e}))},a.handleFilterChange=a.handleFilterChange.bind(Object(he.a)(Object(he.a)(a))),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authedUserID,a=e.questions,n=e.isLoading,s=this.state.isShowingAnswered,o=ee(t),c=this.getFilteredQuestions(!0),i=this.getFilteredQuestions(!1);return r.a.createElement(xe.a,{className:"questions mb-3 mx-3"},o&&r.a.createElement(xe.a.Header,{className:"text-center"},r.a.createElement(Ne.a,{className:"mb-1",name:"toggleAnswered",value:s?0:1,defaultValue:1,onChange:this.handleFilterChange},r.a.createElement(Ue.a,{type:"radio",value:1},"Unanswered"," ",r.a.createElement(ke.a,{variant:"light"},i.length)),r.a.createElement(Ue.a,{type:"radio",value:0},"Answered"," ",r.a.createElement(ke.a,{variant:"light"},c.length)))),o&&0===i.length&&!s&&Object.keys(a).length>0&&r.a.createElement(xe.a.Body,null,r.a.createElement(qe.a,{className:"text-center"},r.a.createElement("h2",null,"You've answered all of the questions!"))),o&&0===c.length&&s&&Object.keys(a).length>0&&r.a.createElement(xe.a.Body,null,r.a.createElement(qe.a,{className:"text-center"},r.a.createElement("h2",null,"You haven't answered any questions yet!"))),n&&r.a.createElement("div",{className:"loader"}),r.a.createElement(je.a,{variant:"flush"},a&&this.getFilteredQuestions(s).map(function(e){return r.a.createElement(Ce.a,{key:e.id},r.a.createElement(ye,{authedUserID:t,question:e,withDetailsButton:!0,withAvatar:!0}))})))}}]),t}(n.Component);var Te=Object(f.connect)(function(e){return{authedUserID:e.authedUser,questions:e.questions}})(Se),Ae=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).getNumCreated=function(e){return e.questions.length},a.getNumAnswered=function(e){return X(e.answers).length},a.getSum=function(e){return a.getNumCreated(e)+a.getNumAnswered(e)},a.sortUsersByNumQuestions=function(){var e=a.props.users;return X(e).sort(function(e,t){var n=a.getSum(e);return a.getSum(t)-n})},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props.authedUserID;return r.a.createElement(xe.a,{className:"mb-3 mx-3"},r.a.createElement(xe.a.Header,null,r.a.createElement("h4",{className:"mb-0"},"Leaderboard")),r.a.createElement(je.a,{className:"leaderboard-user",variant:"flush"},this.sortUsersByNumQuestions().map(function(a,n){return r.a.createElement(je.a.Item,{key:a.id,className:t===a.id?"currentUser":""},r.a.createElement("div",{className:"rank d-flex align-items-center"},r.a.createElement("h2",null,n+1)),r.a.createElement(te,{className:"leaderboard-avatar lg",user:a}),r.a.createElement("div",{className:"username"},K(a)),r.a.createElement("div",{className:"asked"},r.a.createElement("span",{className:"callout"},e.getNumCreated(a))," ","asked"),r.a.createElement("div",{className:"answered"},r.a.createElement("span",{className:"callout"},e.getNumAnswered(a))," ","answered"),r.a.createElement("div",{className:"score"},0===n&&r.a.createElement(pe.c,{className:"star"}),r.a.createElement(ke.a,{variant:"primary"},r.a.createElement("span",{className:"micro"},"SCORE"),r.a.createElement("hr",null),r.a.createElement("h1",null,e.getSum(a)))))})))}}]),t}(n.Component),De=Object(g.a)(Object(f.connect)(function(e){return{authedUserID:e.authedUser,users:e.users}})(Ae)),Ie=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authedUserID,a=e.questions,s=e.users,o=a[e.match.params.id],c=o?o.author:"",i=$(c,s),u=K(i,t);return r.a.createElement(n.Fragment,null,r.a.createElement(xe.a,{className:"question mb-3 mx-3"},o&&r.a.createElement(ye,{authedUserID:t,users:s,question:o,withForm:!0}),r.a.createElement(xe.a.Footer,null,r.a.createElement("div",null,r.a.createElement(te,{className:"question-detail-avatar md",user:i}),r.a.createElement("span",null,u," created this question")))))}}]),t}(n.Component),Le=Object(g.a)(Object(f.connect)(function(e){var t=e.authedUser,a=e.users,n=e.questions;return{authedUserID:t,authedUser:$(t,a),users:a,questions:n}})(Ie)),Fe=a(221),Re=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={validated:!1,optionOneText:"",optionTwoText:""},a.handleTextarea1Change=function(e){a.setState(Object(c.a)({},a.state,{optionOneText:e.target.value}))},a.handleTextarea2Change=function(e){a.setState(Object(c.a)({},a.state,{optionTwoText:e.target.value}))},a.handleSubmit=function(){var e=Object(m.a)(l.a.mark(function e(t){var n,r,s,o,c,i,u,m;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),n=a.props,r=n.dispatch,s=n.authedUserID,o=n.history,c=a.state,i=c.optionOneText,u=c.optionTwoText,m={author:s,optionOneText:i,optionTwoText:u},e.next=7,r(G(m,o));case 7:o.push("/");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement(xe.a,null,r.a.createElement(xe.a.Header,null,r.a.createElement("h4",{className:"mb-0"},"Add a new question")),r.a.createElement(ve.a,{onSubmit:this.handleSubmit},r.a.createElement(xe.a.Body,null,r.a.createElement(ve.a.Group,{controlId:"poll-option-1"},r.a.createElement(ve.a.Label,null,"Option 1"),r.a.createElement(ve.a.Control,{as:"textarea",required:!0,onChange:this.handleTextarea1Change})),r.a.createElement("h5",{className:"text-muted text-center"},"or"),r.a.createElement(ve.a.Group,{controlId:"poll-option-2"},r.a.createElement(ve.a.Label,null,"Option 2"),r.a.createElement(ve.a.Control,{as:"textarea",required:!0,onChange:this.handleTextarea2Change}))),r.a.createElement(xe.a.Footer,null,r.a.createElement(Fe.a,{className:"justify-content-center"},r.a.createElement(ae.a,{type:"submit",className:"mx-1"},"Save Question"))))))}}]),t}(n.Component),ze=Object(f.connect)(function(e){var t=e.authedUser,a=e.users;return{authedUserID:t,user:$(t,a)}})(Re),Be=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(qe.a,{className:"m-3"},r.a.createElement("span",{className:"text-danger"},"Error")," ",r.a.createElement("span",{className:"display-1 text-danger"},"404"),r.a.createElement("hr",null),r.a.createElement("p",{className:"display-4"},"You have to be logged in to view this page."))}}]),t}(n.Component),Qe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.dispatch(J());case 2:this.setState({isLoading:!1});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.authedUser,t=this.state.isLoading;return r.a.createElement(O.a,{fluid:!0,className:"px-0 pb-1 mx-0"},r.a.createElement(de,null),r.a.createElement(y.a,{className:"loading",showFastActions:!0}),r.a.createElement("h3",{className:"d-flex justify-content-center text-white mt-2"},"Would you rather?"),r.a.createElement(j.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(Te,{isLoading:t})}}),r.a.createElement(Pe,{path:"/add",component:ze,authedUser:e}),r.a.createElement(Pe,{path:"/leaderboard",component:De,authedUser:e}),r.a.createElement(Pe,{path:"/question-detail/:id",component:Le,authedUser:e}),r.a.createElement(j.a,{path:"/404",component:Be}))}}]),t}(n.Component),Pe=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return r.a.createElement(j.a,Object.assign({},a,{render:function(e){var n=Object(c.a)({},a).authedUser;return"string"===typeof n&&n.length>0?r.a.createElement(t,e):r.a.createElement(E.a,{to:"/404"})}}))},_e=Object(g.a)(Object(f.connect)(function(e){return{authedUser:e.authedUser}})(Qe)),He=(a(210),a(71)),We=a(32),Me=a(128);var Ve=Object(We.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(c.a)({},e,t.users);case L:var a=t.question;return Object(c.a)({},e,Object(N.a)({},a.author,Object(c.a)({},e[a.author],{questions:e[a.author].questions.concat([a.id])})));case F:var n=t.qid,r=t.uid,s=t.answer;return Object(c.a)({},e,Object(N.a)({},r,Object(c.a)({},e[r],{answers:Object(c.a)({},e[r].answers,Object(N.a)({},n,s))})));default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(c.a)({},e,t.questions);case P:var a=t.question;return Object(c.a)({},e,Object(N.a)({},a.id,a));case _:var n=t.uid,r=t.qid,s=t.answer;return Object(c.a)({},e,Object(N.a)({},r,Object(c.a)({},e[r],Object(N.a)({},s,Object(c.a)({},e[r][s],{votes:e[r][s].votes.concat([n])})))));default:return e}},authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return t.id;default:return e}},loadingBar:w.loadingBarReducer}),Ge=a(129),Je=(a(212),Object(We.applyMiddleware)(Ge.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye=Object(We.createStore)(Ve,Object(Me.composeWithDevTools)(Je));o.a.render(r.a.createElement(f.Provider,{store:Ye},r.a.createElement(He.a,null,r.a.createElement(_e,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[130,2,1]]]);
//# sourceMappingURL=main.50702b77.chunk.js.map