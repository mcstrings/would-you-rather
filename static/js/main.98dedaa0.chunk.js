(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){e.exports=a(214)},136:function(e,t,a){},143:function(e,t,a){},214:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),s=a.n(o),c=(a(136),a(7)),i=a(122),u=a(9),l=a(10),m=a(13),d=a(11),h=a(12),p=a(15),b=a(218),v=a(114),f=a(35),O=a(113),j=a(115),E=a(26),g=a.n(E),w=(a(143),a(17)),y=a.n(w),x=a(121),U=a(25),N=a(20),k={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://api.adorable.io/avatars/128/sarahedo.png",bigAvatarURL:"https://api.adorable.io/avatars/285/sarahedo.png",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionOne",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://api.adorable.io/avatars/128/tylermcginnis.png",bigAvatarURL:"https://api.adorable.io/avatars/285/tylermcginnis.png",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://api.adorable.io/avatars/128/johndoe.png",bigAvatarURL:"https://api.adorable.io/avatars/285/johndoe.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionOne"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},q={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillian"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function C(e){var t=e.optionOneText,a=e.optionTwoText,n=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:n,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:a}}}function T(e){return new Promise(function(t,a){var n=e.author,r=C(e);setTimeout(function(){q=Object(c.a)({},q,Object(N.a)({},r.id,r)),k=Object(c.a)({},k,Object(N.a)({},n,Object(c.a)({},k[n],{questions:k[n].questions.concat([r.id])}))),t(r)},1e3)})}function A(e){var t=e.authedUser,a=e.qid,n=e.answer;return new Promise(function(e,r){setTimeout(function(){k=Object(c.a)({},k,Object(N.a)({},t,Object(c.a)({},k[t],{answers:Object(c.a)({},k[t].answers,Object(N.a)({},a,n))}))),q=Object(c.a)({},q,Object(N.a)({},a,Object(c.a)({},q[a],Object(N.a)({},n,Object(c.a)({},q[a][n],{votes:q[a][n].votes.concat([t])}))))),e()},500)})}var S="SET_AUTHED_USER",D=function(e){return{type:S,id:e}},I=function(e){return function(t){t(D(e))}},L="RECEIVE_USERS",R="UPDATE_USER_QUESTIONS",F="UPDATE_USER_ANSWERS",z=function(e){return{type:L,users:e}},B=function(e){return function(t){t(function(e){return{type:R,question:e}}(e))}},Q=function(e,t,a){return function(n){n(function(e,t,a){return{type:F,uid:e,qid:t.id,answer:a}}(e,t,a))}},_="RECEIVE_QUESTIONS",P="SAVE_QUESTION",H="SAVE_QUESTION_ANSWER",W=function(e){return{type:_,questions:e}},M=function(e){return{type:P,question:e}},V=function(e,t,a){return{type:H,uid:e,qid:t.id,answer:a}},G=function(e,t,a){return function(){var n=Object(U.a)(y.a.mark(function n(r){return y.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(Object(E.showLoading)()),n.prev=1,n.next=4,A({authedUser:e,qid:t.id,answer:a});case 4:return n.next=6,r(V(e,t,a));case 6:return n.next=8,r(Q(e,t,a));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0);case 13:r(Object(E.hideLoading)());case 14:case"end":return n.stop()}},n,this,[[1,10]])}));return function(e){return n.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(U.a)(y.a.mark(function t(a){var n;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(Object(E.showLoading)()),t.prev=1,t.next=4,T(e);case 4:return n=t.sent,t.next=7,a(M(n));case 7:return t.next=9,a(B(n));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0);case 14:a(Object(E.hideLoading)());case 15:case"end":return t.stop()}},t,this,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()},Y=a(117),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(arguments.length>1?arguments[1]:void 0)[e];return t||void 0},K=function(e,t){var a=e?e.id:null;return a&&t&&a===t?"You":e?e.name:""},X=function(e){return Object.keys(e).map(function(t){return e[t]})},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.votes.includes(t)},ee=function(e){return t=e,!(0===Object.keys(t).length&&t.constructor===Object||""===e);var t},te=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.className,n=void 0===a?"":a;return r.a.createElement("img",{src:function(e){return e?e.avatarURL:""}(t),alt:K(t),className:"avatar ".concat(n)})}}]),t}(n.Component),ae=a(90),ne=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(e){e.preventDefault();var t=a.props,n=t.dispatch,r=t.history;n(I("")),r.push("/")},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authedUser,a=e.authedUserID;return this.props&&void 0!==this.props.authedUser?r.a.createElement(n.Fragment,null,a&&r.a.createElement("div",{className:"welcome d-flex justify-content-end align-items-center"},r.a.createElement("span",null,"Welcome,",r.a.createElement(te,{className:"welcome-avatar md",user:t}),K(t)),r.a.createElement("span",null,r.a.createElement(ae.a,{size:"sm",onClick:this.handleLogout},"Logout")))):null}}]),t}(n.Component),re=Object(j.a)(Object(p.connect)(function(e){var t=e.authedUser,a=e.users;return{authedUser:$(t,a),authedUserID:""!==t?t:void 0}})(ne)),oe=a(224),se=a(226),ce=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.authedUser;return r.a.createElement(oe.a,{variant:"dark",bg:"dark",collapseOnSelect:!0,expand:"sm",className:"mb-0"},r.a.createElement(oe.a.Toggle,null),r.a.createElement(oe.a.Collapse,null,r.a.createElement(se.a,null,r.a.createElement(Y.LinkContainer,{exact:!0,to:"/"},r.a.createElement(se.a.Link,{active:!1,className:"py-0"},"Home")),r.a.createElement(Y.LinkContainer,{to:"/add"},r.a.createElement(se.a.Link,{active:!1,className:"py-0 text-nowrap"},"New Question")),r.a.createElement(Y.LinkContainer,{to:"/leaderboard"},r.a.createElement(se.a.Link,{active:!1,className:"py-0"},"Leaderboard")))),r.a.createElement(se.a,null,e&&r.a.createElement(re,null)))}}]),t}(n.Component),ie=Object(j.a)(Object(p.connect)(function(e){var t=e.authedUser,a=e.users;return{authedUser:$(t,a),authedUserID:""!==t?t:void 0}})(ce)),ue=a(31),le=a(60),me=a(216),de=a(223),he=a(158),pe=a(34),be=a(217),ve=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.option,a=e.users,n=X(a).length,o=t.votes.length,s=Math.floor(100*o/n);return r.a.createElement("ul",{className:"pl-0"},r.a.createElement("li",{className:"asked"},r.a.createElement("span",{className:"callout"},o)," ",o>1||0===o?"people ":"person "," ","chose this option."),r.a.createElement("li",{className:"answered"},r.a.createElement("span",{className:"callout"},s,"%")," voted for this option."))}}]),t}(n.Component),fe=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.question,a=e.answer,o=e.users,s=e.showForm,c=e.option,i=e.hasAuthedUserAnswered,u=e.handleRadioBtnClick,l=e.getOptionCheckbox;return r.a.createElement(n.Fragment,null,r.a.createElement(me.a,null,r.a.createElement(he.a,null,r.a.createElement("h5",{className:"mb-0"},r.a.createElement(de.a.Group,{className:"mb-0 flex-nowrap",controlId:"form-".concat(a,"-").concat(t.id)},s?r.a.createElement(de.a.Check,{type:"radio",name:"questionOption",inline:!0,className:"mr-1","data-answer":a,onClick:u}):i&&l(c),r.a.createElement(de.a.Label,null,c.text))))),o&&r.a.createElement(me.a,{className:"my-0"},r.a.createElement(he.a,null,r.a.createElement(ve,{option:c,users:o}))))}}]),t}(n.Component),Oe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={hasAuthedUserAnswered:!1,showForm:!1,answer:null},a.getOptionCheckbox=function(e){var t=a.props.authedUserID;return Z(e,t)?r.a.createElement(le.a,{className:"option-checkbox checked"}):r.a.createElement(le.b,{className:"option-checkbox text-muted"})},a.handleRadioBtnClick=function(e){e.stopPropagation(),a.setState(Object(c.a)({},a.state,{answer:e.target.getAttribute("data-answer")}))},a.handleSubmit=function(){var e=Object(U.a)(y.a.mark(function e(t){var n,r,o,s,c;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),n=a.props,r=n.authedUserID,o=n.question,s=n.dispatch,c=a.state.answer,e.next=6,s(G(r,o,c));case 6:a.setState({hasAuthedUserAnswered:!0,showForm:!1,answer:null});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){var e=a.props,t=e.authedUserID,n=e.question,r=a.getHasAuthedUserAnswered(n);a.setState(Object(c.a)({},a.state,{showForm:t&&!r&&a.props.withForm,hasAuthedUserAnswered:r}))},a.getHasAuthedUserAnswered=function(e){var t=e.optionOne,n=e.optionTwo,r=a.props.authedUserID;return Z(t,r)||Z(n,r)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authedUserID,a=e.question,o=e.users,s=e.withAvatar,c=void 0!==s&&s,i=e.withDetailsButton,u=void 0!==i&&i,l=this.state,m=l.answer,d=l.showForm,h=this.getHasAuthedUserAnswered(a),p=$(a.author,o);return r.a.createElement(be.a.Item,null,r.a.createElement(b.a,{className:"question",key:a.id},c&&r.a.createElement(n.Fragment,null,r.a.createElement(me.a,{className:"dflex align-items-center text-left mb-1"},r.a.createElement(te,{className:"mr-1 sm",user:p})," ",K(p,t)," asked"),r.a.createElement(me.a,{className:"dflex text-left mb-3 text-secondary"},r.a.createElement("h5",{className:"text-secondary"},"Would you rather?"))),r.a.createElement(de.a,null,r.a.createElement(me.a,null,r.a.createElement(he.a,{md:5},r.a.createElement(fe,{question:a,users:o,showForm:d,option:a.optionOne,answer:"optionOne",hasAuthedUserAnswered:h,handleRadioBtnClick:this.handleRadioBtnClick,getOptionCheckbox:this.getOptionCheckbox})),r.a.createElement(he.a,{md:1,className:"d-flex justify-content-center"},r.a.createElement("h5",{className:"text-secondary"},"or")),r.a.createElement(he.a,{md:6},r.a.createElement(fe,{question:a,users:o,showForm:d,option:a.optionTwo,answer:"optionTwo",hasAuthedUserAnswered:h,handleRadioBtnClick:this.handleRadioBtnClick,getOptionCheckbox:this.getOptionCheckbox})))),d&&r.a.createElement("div",{className:"text-center"},r.a.createElement(ae.a,{onClick:this.handleSubmit,variant:"success",className:"btn-sm btn-block",disabled:!m},"Save Answer")),!d&&ee(t)&&u&&r.a.createElement("div",{className:"text-center"},r.a.createElement(ae.a,{variant:h?"primary":"success",className:"btn-sm btn-block",as:pe.a,to:"/questions/".concat(a.id)},h?"View Details":"Answer Question"))))}}]),t}(n.Component);var je=Object(j.a)(Object(p.connect)(function(e){var t=e.authedUser,a=e.users;return{authedUserID:t,authedUser:$(t,a),users:a}})(Oe)),Ee=a(227),ge=a(225),we=a(160),ye=a(219),xe=a(220),Ue=a(159),Ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={isShowingAnswered:!1},a.getFilteredQuestions=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.props,n=t.authedUserID,r=t.questions;if(!ee(n))return a.sortQuestions(X(r));var o=X(r).filter(function(t){return e===(Z(t.optionOne,n)||Z(t.optionTwo,n))});return a.sortQuestions(o)},a.sortQuestions=function(e){return e.sort(function(e,t){return t.timestamp-e.timestamp})},a.handleFilterChange=function(e){a.setState(Object(c.a)({},a.state,{isShowingAnswered:!e}))},a.handleFilterChange=a.handleFilterChange.bind(Object(ue.a)(Object(ue.a)(a))),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authedUserID,a=e.questions,n=this.state.isShowingAnswered,o=ee(t),s=this.getFilteredQuestions(!0),c=this.getFilteredQuestions(!1);return r.a.createElement(Ee.a,{className:"questions mb-3 mx-3"},o&&r.a.createElement(Ee.a.Header,{className:"text-center"},r.a.createElement(ge.a,{className:"mb-1",name:"toggleAnswered",value:n?0:1,defaultValue:1,onChange:this.handleFilterChange},r.a.createElement(we.a,{type:"radio",value:1},"Unanswered"," ",r.a.createElement(ye.a,{variant:"light"},c.length)),r.a.createElement(we.a,{type:"radio",value:0},"Answered"," ",r.a.createElement(ye.a,{variant:"light"},s.length)))),o&&0===c.length&&!n&&Object.keys(a).length>0&&r.a.createElement(Ee.a.Body,null,r.a.createElement(xe.a,{className:"text-center"},r.a.createElement("h2",null,"You've answered all of the questions!"))),o&&0===s.length&&n&&Object.keys(a).length>0&&r.a.createElement(Ee.a.Body,null,r.a.createElement(xe.a,{className:"text-center"},r.a.createElement("h2",null,"You haven't answered any questions yet!"))),r.a.createElement(be.a,{variant:"flush"},a&&this.getFilteredQuestions(n).map(function(e){return r.a.createElement(Ue.a,{key:e.id},r.a.createElement(je,{authedUserID:t,question:e,withDetailsButton:!0,withAvatar:!0}))})))}}]),t}(n.Component);var ke=Object(p.connect)(function(e){return{authedUserID:e.authedUser,questions:e.questions}})(Ne),qe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).getNumCreated=function(e){return e.questions.length},a.getNumAnswered=function(e){return X(e.answers).length},a.getSum=function(e){return a.getNumCreated(e)+a.getNumAnswered(e)},a.sortUsersByNumQuestions=function(){var e=a.props.users;return X(e).sort(function(e,t){var n=a.getSum(e);return a.getSum(t)-n})},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.authedUserID;return r.a.createElement(Ee.a,{className:"mb-3 mx-3"},r.a.createElement(Ee.a.Header,null,r.a.createElement("h4",{className:"mb-0"},"Leaderboard")),r.a.createElement(be.a,{className:"leaderboard-user",variant:"flush"},this.sortUsersByNumQuestions().map(function(a,n){return r.a.createElement(be.a.Item,{key:a.id,className:t===a.id?"currentUser":""},r.a.createElement("div",{className:"rank d-flex align-items-center"},r.a.createElement("h2",null,n+1)),r.a.createElement(te,{className:"leaderboard-avatar lg",user:a}),r.a.createElement("div",{className:"username"},K(a)),r.a.createElement("div",{className:"asked"},r.a.createElement("span",{className:"callout"},e.getNumCreated(a))," ","asked"),r.a.createElement("div",{className:"answered"},r.a.createElement("span",{className:"callout"},e.getNumAnswered(a))," ","answered"),r.a.createElement("div",{className:"score"},0===n&&r.a.createElement(le.c,{className:"star"}),r.a.createElement(ye.a,{variant:"primary"},r.a.createElement("span",{className:"micro"},"SCORE"),r.a.createElement("hr",null),r.a.createElement("h1",null,e.getSum(a)))))})))}}]),t}(n.Component),Ce=Object(j.a)(Object(p.connect)(function(e){return{authedUserID:e.authedUser,users:e.users}})(qe)),Te=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authedUserID,a=e.questions,o=e.users,s=a[e.match.params.question_id];if(void 0===s)return r.a.createElement(O.a,{to:"/404"});var c=s?s.author:"",i=$(c,o),u=K(i,t);return r.a.createElement(n.Fragment,null,r.a.createElement(Ee.a,{className:"question mb-3 mx-3"},s&&r.a.createElement(je,{authedUserID:t,users:o,question:s,withForm:!0}),r.a.createElement(Ee.a.Footer,null,r.a.createElement("div",null,r.a.createElement(te,{className:"question-detail-avatar md",user:i}),r.a.createElement("span",null,u," created this question")))))}}]),t}(n.Component),Ae=Object(j.a)(Object(p.connect)(function(e){var t=e.authedUser,a=e.users,n=e.questions;return{authedUserID:t,authedUser:$(t,a),users:a,questions:n}})(Te)),Se=a(221),De=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={validated:!1,optionOneText:"",optionTwoText:""},a.handleTextarea1Change=function(e){a.setState(Object(c.a)({},a.state,{optionOneText:e.target.value}))},a.handleTextarea2Change=function(e){a.setState(Object(c.a)({},a.state,{optionTwoText:e.target.value}))},a.handleSubmit=function(){var e=Object(U.a)(y.a.mark(function e(t){var n,r,o,s,c,i,u,l;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),n=a.props,r=n.dispatch,o=n.authedUserID,s=n.history,c=a.state,i=c.optionOneText,u=c.optionTwoText,l={author:o,optionOneText:i,optionTwoText:u},e.next=7,r(J(l,s));case 7:s.push("/");case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ee.a.Header,null,r.a.createElement("h4",{className:"mb-0"},"Add a new question")),r.a.createElement(de.a,{onSubmit:this.handleSubmit},r.a.createElement(Ee.a.Body,null,r.a.createElement(de.a.Group,{controlId:"poll-option-1"},r.a.createElement(de.a.Label,null,"Option 1"),r.a.createElement(de.a.Control,{as:"textarea",required:!0,onChange:this.handleTextarea1Change})),r.a.createElement("h5",{className:"text-muted text-center"},"or"),r.a.createElement(de.a.Group,{controlId:"poll-option-2"},r.a.createElement(de.a.Label,null,"Option 2"),r.a.createElement(de.a.Control,{as:"textarea",required:!0,onChange:this.handleTextarea2Change}))),r.a.createElement(Ee.a.Footer,null,r.a.createElement(Se.a,{className:"justify-content-center"},r.a.createElement(ae.a,{type:"submit",className:"mx-1"},"Save Question"))))))}}]),t}(n.Component),Ie=Object(p.connect)(function(e){return{authedUserID:e.authedUser}})(De),Le=function(){return r.a.createElement(xe.a,{className:"m-3"},r.a.createElement("span",{className:"text-danger"},"Error")," ",r.a.createElement("span",{className:"display-1 text-danger"},"404"),r.a.createElement("hr",null),r.a.createElement("p",{className:"display-4"},"There was an error getting the requested URL."))},Re=a(222),Fe=a(215),ze=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},a.handleSelectUserChange=function(){var e=Object(U.a)(y.a.mark(function e(t){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.dispatch,e.next=3,n(I(t));case 3:a.setState({redirectToReferrer:!0});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/"}}).from,t=this.props,a=t.users,n=t.user;if(!0===this.state.redirectToReferrer)return r.a.createElement(O.a,{to:e});var o=n?n.name:"Log in as ",s=n?n.bigAvatarURL:"https://api.adorable.io/avatars/285/abott@adorable.png";return r.a.createElement(b.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Ee.a.Body,{className:"text-center"},r.a.createElement("div",{className:"logo"},r.a.createElement("div",{className:"question-mark left"},"?"),r.a.createElement("div",{className:"question-mark right"},"?"),r.a.createElement("img",{alt:"logo",className:"login-face m-3",src:s})),r.a.createElement(Re.a,{id:"dropdown-users",variant:"success btn-lg",alignRight:!0,title:o,onSelect:this.handleSelectUserChange},a&&X(a).sort(function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0}).map(function(e){return r.a.createElement(Fe.a.Item,{active:!1,key:e.id,eventKey:e.id},r.a.createElement(te,{className:"dropdown-user-avatar sm",user:e})," ",e.name)})))))}}]),t}(n.Component);var Be=Object(j.a)(Object(p.connect)(function(e){var t=e.authedUser,a=e.users;return{authedUserID:t,user:$(t,a),users:a}})(ze)),Qe=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(){var e=function(){var e=Object(U.a)(y.a.mark(function e(){var t,a,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([new Promise(function(e,t){setTimeout(function(){return e(Object(c.a)({},k))},1e3)}),new Promise(function(e,t){setTimeout(function(){return e(Object(c.a)({},q))},1e3)})]);case 2:return t=e.sent,a=Object(x.a)(t,2),n=a[0],r=a[1],e.abrupt("return",[n,r]);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return function(){var t=Object(U.a)(y.a.mark(function t(a){var n,r,o,s,c;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="",a(Object(E.showLoading)()),t.next=4,e();case 4:r=t.sent,o=Object(x.a)(r,2),s=o[0],c=o[1],a(z(s)),a(W(c)),a(D(n)),a(Object(E.hideLoading)());case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}())}},{key:"render",value:function(){var e=this.props.authedUser;return r.a.createElement(b.a,{fluid:!0,className:"px-0 pb-1 mx-0"},r.a.createElement(ie,null),r.a.createElement(g.a,{className:"loading",showFastActions:!0}),r.a.createElement("h3",{className:"d-flex justify-content-center text-white mt-2"},"Would you rather?"),r.a.createElement(v.a,null,r.a.createElement(_e,{path:"/",exact:!0,component:ke,authedUser:e}),r.a.createElement(f.a,{path:"/login",component:Be}),r.a.createElement(_e,{path:"/add",component:Ie,authedUser:e}),r.a.createElement(_e,{path:"/leaderboard",component:Ce,authedUser:e}),r.a.createElement(_e,{path:"/questions/:question_id",component:Ae,authedUser:e}),r.a.createElement(f.a,{path:"/404",component:Le}),r.a.createElement(f.a,{component:Le})))}}]),t}(n.Component),_e=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return r.a.createElement(f.a,Object.assign({},a,{render:function(e){var n=Object(c.a)({},a).authedUser;return"string"===typeof n&&n.length>0?r.a.createElement(t,e):r.a.createElement(O.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Pe=Object(j.a)(Object(p.connect)(function(e){return{authedUser:e.authedUser}})(Qe)),He=(a(211),a(89)),We=a(32),Me=a(129);var Ve=Object(We.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(c.a)({},e,t.users);case R:var a=t.question;return Object(c.a)({},e,Object(N.a)({},a.author,Object(c.a)({},e[a.author],{questions:e[a.author].questions.concat([a.id])})));case F:var n=t.qid,r=t.uid,o=t.answer;return Object(c.a)({},e,Object(N.a)({},r,Object(c.a)({},e[r],{answers:Object(c.a)({},e[r].answers,Object(N.a)({},n,o))})));default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(c.a)({},e,t.questions);case P:var a=t.question;return Object(c.a)({},e,Object(N.a)({},a.id,a));case H:var n=t.uid,r=t.qid,o=t.answer;return Object(c.a)({},e,Object(N.a)({},r,Object(c.a)({},e[r],Object(N.a)({},o,Object(c.a)({},e[r][o],{votes:e[r][o].votes.concat([n])})))));default:return e}},authedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return t.id;default:return e}},loadingBar:E.loadingBarReducer}),Ge=a(130),Je=(a(213),Object(We.applyMiddleware)(Ge.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye=Object(We.createStore)(Ve,Object(Me.composeWithDevTools)(Je));s.a.render(r.a.createElement(p.Provider,{store:Ye},r.a.createElement(He.a,null,r.a.createElement(Pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[131,2,1]]]);
//# sourceMappingURL=main.98dedaa0.chunk.js.map